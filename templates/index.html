{% extends "base.html" %}

{% block title %}SafeZard - Welcome{% endblock %}

{% block content %}
<section class="hero-section">
    <!-- Background Patterns -->
    <div class="hero-bg-pattern"></div>
    
    <!-- Decorative Shapes - Cyberpunk style -->
<div class="hero-shape rounded-circle anim-float" style="width: 400px; height: 400px; top: -100px; left: -100px; border-width: 2px; border-style: dashed; opacity: 0.1;"></div>
    
    <div class="hero-shape anim-float-delayed" style="width: 300px; height: 300px; bottom: 50px; right: -50px; transform: rotate(45deg); border: 2px solid var(--safezard-green); opacity: 0.05;"></div>
    
    <div class="anim-float" style="position: absolute; top: 20%; right: 20%; width: 10px; height: 10px; background: var(--safezard-green); box-shadow: 0 0 10px var(--safezard-green);"></div>
    
    <div class="anim-float-delayed" style="position: absolute; bottom: 30%; left: 15%; width: 6px; height: 6px; background: var(--safezard-caution-yellow); box-shadow: 0 0 10px var(--safezard-caution-yellow);"></div>
    <!-- Main Content -->
    <div class="hero-content d-flex flex-column align-items-center">
        <!-- Logo Icon with glow -->
        <div class="mb-4 position-relative">
             <img src="{{ url_for('static', filename='assets/logo.svg') }}" onerror="this.src='https://placehold.co/100x100/000000/00ff88?text=SZ'" alt="SafeZard" 
                  style="width: 140px; height: auto; filter: drop-shadow(0 0 15px rgba(0, 255, 136, 0.4));">
        </div>

        <h1 class="main-title">SAFEZARD</h1>
        <div class="main-subtitle">Interactive Workplace Safety Simulation</div>
        
        <!-- The Main Interaction Point (Start Button) -->
        <div class="start-btn-container">
            <a href="/scenario_select" class="btn btn-game-start">
                Initialize Training
            </a>
        </div>
        
        <!-- Instruction to use sidebar -->
        <p class="mt-5 text-muted small text-uppercase fw-bold opacity-50" style="letter-spacing: 2px;">
            <i class="bi bi-chevron-left me-1"></i> Access Main Menu via Left Dock
        </p>
    </div>

    <!-- Stats Bar (Game HUD Style) -->
    <div class="index-footer-stats">
        <div class="container">
            <div class="row text-center  justify-content-center">
                <div class="col-3 col-md-2 border-end border-secondary">
                    <div class="small text-uppercase opacity-50 mb-1" style="color:var(--safezard-text);">Status</div>
                    <div class="h5 mb-0 fw-bold text-success"><i class="bi bi-circle-fill small me-2"></i>ONLINE</div>
                </div>
                <div class="col-3 col-md-2 border-end border-secondary">
                    <div class="small text-uppercase opacity-50 mb-1" style="color:var(--safezard-text);">Scenarios</div>
                    <div class="h5 mb-0 fw-bold ">11 LOADED</div>
                </div>
                <div class="col-3 col-md-2 border-end border-secondary">
                    <div class="small text-uppercase opacity-50 mb-1" style="color:var(--safezard-text);">Edition</div>
                    <div class="h5 mb-0 fw-bold text-warning">LSPU.EDU</div>
                </div>
                <div class="col-3 col-md-2">
                    <div class="small text-uppercase opacity-50 mb-1" style="color:var(--safezard-text);">System</div>
                    <div class="h5 mb-0 fw-bold text-info">STABLE</div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const heroSection = document.querySelector('.hero-section');
        
        if (heroSection) {
            heroSection.addEventListener('mousemove', function(e) {
                // 1. Limit particle creation rate (performance)
                // Only create a particle roughly 40% of the time the mouse moves
                if (Math.random() > 0.4) return; 

                // 2. Create the particle element
                const particle = document.createElement('div');
                particle.classList.add('mouse-trail-particle');
                
                // 3. Calculate position relative to the hero section
                const rect = heroSection.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                
                // 4. Random variation (Optional: mix Green and Yellow)
                if (Math.random() > 0.8) {
                    particle.style.backgroundColor = 'var(--safezard-caution-yellow)';
                    particle.style.boxShadow = '0 0 5px var(--safezard-caution-yellow)';
                }

                // 5. Add to DOM
                heroSection.appendChild(particle);

                // 6. Remove after animation (1000ms matches CSS animation time)
                setTimeout(() => {
                    particle.remove();
                }, 1000);
            });
        }
    });
</script>
{% endblock %}